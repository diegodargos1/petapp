{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/diegocastro/Documents/projetos/petapp/web/src/pages/Maps.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../styles/global.css';\nimport '../styles/pages/maps.css';\nimport logoImg from '../assets/images/boxicon.png';\nimport { Link } from 'react-router-dom';\nimport { FiPlus } from 'react-icons/fi';\nimport GeoLocation from '../controller/geolocator'; // import 'leaflet/dist/leaflet.css';\n\nconst isSafari = window.navigator.userAgent.indexOf('Chrome');\n\nfunction Maps() {\n  _s();\n\n  const [latitude, setLatitude] = useState(39.2008613);\n  const [longitude, setLongitude] = useState(-122.9176757);\n  const options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n  useEffect(() => {\n    console.log(isSafari);\n\n    let checkLocation = () => {\n      if (navigator.geolocation) {\n        navigator.permissions.query({\n          name: \"geolocation\"\n        }).then(function (result) {\n          if (result.state === \"granted\") {\n            //If granted then you can directly call your function here\n            navigator.geolocation.getCurrentPosition(success);\n          } else if (result.state === \"prompt\") {\n            navigator.geolocation.getCurrentPosition(success, errors, options);\n          } else if (result.state === \"denied\") {//If denied then you have to show instructions to enable location\n          }\n\n          result.onchange = function () {\n            console.log(result.state);\n          };\n        });\n      } else {\n        alert(\"Sorry Not available!\");\n      }\n    };\n\n    let errors = err => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    };\n\n    let success = pos => {\n      let crd = pos.coords;\n      setLatitude(crd.latitude);\n      setLongitude(crd.longitude);\n    }; //checkLocation();\n\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"page-map\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoImg,\n          alt: \"logo\",\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Escolha um local no mapa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Selecione o melhor local para seu companheiro.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Seu pet em boas m\\xE3os!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GeoLocation, {\n      latitude: latitude,\n      longitude: longitude\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/map\",\n      className: \"create-store\",\n      children: /*#__PURE__*/_jsxDEV(FiPlus, {\n        size: 32,\n        color: \"#FFF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Maps, \"d5/aqor2IYvRSC93WvOGesUHGsM=\");\n\n_c = Maps;\nexport default Maps;\n\nvar _c;\n\n$RefreshReg$(_c, \"Maps\");","map":{"version":3,"sources":["/Users/diegocastro/Documents/projetos/petapp/web/src/pages/Maps.tsx"],"names":["React","useState","useEffect","logoImg","Link","FiPlus","GeoLocation","isSafari","window","navigator","userAgent","indexOf","Maps","latitude","setLatitude","longitude","setLongitude","options","enableHighAccuracy","timeout","maximumAge","console","log","checkLocation","geolocation","permissions","query","name","then","result","state","getCurrentPosition","success","errors","onchange","alert","err","warn","code","message","pos","crd","coords"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport '../styles/global.css';\nimport '../styles/pages/maps.css';\nimport logoImg from '../assets/images/boxicon.png'\nimport { Link } from 'react-router-dom'\nimport { FiPlus } from 'react-icons/fi'\n\nimport GeoLocation from '../controller/geolocator'\n\n// import 'leaflet/dist/leaflet.css';\n\nconst isSafari = window.navigator.userAgent.indexOf('Chrome');\n\nfunction Maps() {\n    const [latitude, setLatitude] = useState(39.2008613);\n    const [longitude, setLongitude] = useState(-122.9176757);\n    const options = {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0,\n    };\n\n    useEffect(() => {\n        console.log(isSafari);\n        let checkLocation = () => {\n            if (navigator.geolocation) {\n                navigator.permissions\n                    .query({ name: \"geolocation\" })\n                    .then(function (result) {\n                        if (result.state === \"granted\") {\n                            //If granted then you can directly call your function here\n                            navigator.geolocation.getCurrentPosition(success);\n                        } else if (result.state === \"prompt\") {\n                            navigator.geolocation.getCurrentPosition(success, errors, options);\n                        } else if (result.state === \"denied\") {\n                            //If denied then you have to show instructions to enable location\n                        }\n                        result.onchange = function () {\n                            console.log(result.state);\n                        };\n                    });\n            } else {\n                alert(\"Sorry Not available!\");\n            }\n        }\n        let errors = (err: { code: any; message: any; }) => {\n            console.warn(`ERROR(${err.code}): ${err.message}`);\n        }\n        let success = (pos: { coords: any; }) => {\n            let crd = pos.coords;\n\n            setLatitude(crd.latitude);\n            setLongitude(crd.longitude)\n        }\n        //checkLocation();\n    });\n\n    return (\n        <div id=\"page-map\">\n            <aside>\n                <header>\n                    <img src={logoImg} alt=\"logo\" className=\"logo\" />\n                    <h2>Escolha um local no mapa</h2>\n                    <p>\n                        Selecione o melhor local para seu companheiro.\n                        </p>\n                </header>\n                <footer>\n                    <strong>Seu pet em boas m√£os!</strong>\n                </footer>\n            </aside>\n\n            <GeoLocation latitude={latitude} longitude={longitude} />\n\n\n            <Link to=\"/map\" className=\"create-store\">\n                <FiPlus size={32} color=\"#FFF\" />\n            </Link>\n        </div>\n    );\n\n}\n\nexport default Maps;"]},"metadata":{},"sourceType":"module"}
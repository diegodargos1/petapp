{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/diegocastro/Documents/projetos/petapp/web/src/pages/Maps.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../styles/global.css';\nimport '../styles/pages/maps.css';\nimport logoImg from '../assets/images/boxicon.png';\nimport { Link } from 'react-router-dom';\nimport { FiPlus } from 'react-icons/fi';\nimport GeoLocation from '../controller/geolocator';\n\nconst {\n  detect\n} = require('detect-browser'); // import 'leaflet/dist/leaflet.css';\n\n\nconst browser = detect();\n\nfunction Maps() {\n  _s();\n\n  const [latitude, setLatitude] = useState(39.2008613);\n  const [longitude, setLongitude] = useState(-122.9176757);\n  const options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n  useEffect(() => {\n    console.log(browser.name);\n\n    let checkLocationSafari = () => {\n      navigator.geolocation.getCurrentPosition(success, errors, options);\n    };\n\n    let checkLocationChrome = () => {\n      if (navigator.geolocation) {\n        navigator.permissions.query({\n          name: \"geolocation\"\n        }).then(function (result) {\n          if (result.state === \"granted\") {\n            //If granted then you can directly call your function here\n            navigator.geolocation.getCurrentPosition(success);\n          } else if (result.state === \"prompt\") {\n            navigator.geolocation.getCurrentPosition(success, errors, options);\n          } else if (result.state === \"denied\") {//If denied then you have to show instructions to enable location\n          }\n\n          result.onchange = function () {\n            console.log(result.state);\n          };\n        });\n      } else {\n        alert(\"Sorry Not available!\");\n      }\n    };\n\n    let errors = err => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    };\n\n    let success = pos => {\n      let crd = pos.coords;\n      setLatitude(crd.latitude);\n      setLongitude(crd.longitude);\n    };\n\n    if (browser.name == 'safari') {\n      checkLocationSafari();\n    } else {\n      checkLocationChrome();\n    }\n\n    checkLocation();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"page-map\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoImg,\n          alt: \"logo\",\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Escolha um local no mapa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Selecione o melhor local para seu companheiro.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Seu pet em boas m\\xE3os!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GeoLocation, {\n      latitude: latitude,\n      longitude: longitude\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/map\",\n      className: \"create-store\",\n      children: /*#__PURE__*/_jsxDEV(FiPlus, {\n        size: 32,\n        color: \"#FFF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Maps, \"d5/aqor2IYvRSC93WvOGesUHGsM=\");\n\n_c = Maps;\nexport default Maps;\n\nvar _c;\n\n$RefreshReg$(_c, \"Maps\");","map":{"version":3,"sources":["/Users/diegocastro/Documents/projetos/petapp/web/src/pages/Maps.tsx"],"names":["React","useState","useEffect","logoImg","Link","FiPlus","GeoLocation","detect","require","browser","Maps","latitude","setLatitude","longitude","setLongitude","options","enableHighAccuracy","timeout","maximumAge","console","log","name","checkLocationSafari","navigator","geolocation","getCurrentPosition","success","errors","checkLocationChrome","permissions","query","then","result","state","onchange","alert","err","warn","code","message","pos","crd","coords","checkLocation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport '../styles/global.css';\nimport '../styles/pages/maps.css';\nimport logoImg from '../assets/images/boxicon.png'\nimport { Link } from 'react-router-dom'\nimport { FiPlus } from 'react-icons/fi'\n\nimport GeoLocation from '../controller/geolocator'\nconst { detect } = require('detect-browser');\n// import 'leaflet/dist/leaflet.css';\n\nconst browser = detect();\n\nfunction Maps() {\n    const [latitude, setLatitude] = useState(39.2008613);\n    const [longitude, setLongitude] = useState(-122.9176757);\n    const options = {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0,\n    };\n\n    useEffect(() => {\n        console.log(browser.name);\n\n        let checkLocationSafari = () => {\n            navigator.geolocation.getCurrentPosition(success, errors, options);\n        }\n        let checkLocationChrome = () => {\n            if (navigator.geolocation) {\n                navigator.permissions\n                    .query({ name: \"geolocation\" })\n                    .then(function (result) {\n                        if (result.state === \"granted\") {\n                            //If granted then you can directly call your function here\n                            navigator.geolocation.getCurrentPosition(success);\n                        } else if (result.state === \"prompt\") {\n                            navigator.geolocation.getCurrentPosition(success, errors, options);\n                        } else if (result.state === \"denied\") {\n                            //If denied then you have to show instructions to enable location\n                        }\n                        result.onchange = function () {\n                            console.log(result.state);\n                        };\n                    });\n            } else {\n                alert(\"Sorry Not available!\");\n            }\n        }\n        let errors = (err: { code: any; message: any; }) => {\n            console.warn(`ERROR(${err.code}): ${err.message}`);\n        }\n        let success = (pos: { coords: any; }) => {\n            let crd = pos.coords;\n\n            setLatitude(crd.latitude);\n            setLongitude(crd.longitude)\n        }\n\n        if(browser.name == 'safari'){\n            checkLocationSafari()\n        }else{\n            checkLocationChrome()\n        }\n        checkLocation();\n    });\n\n    return (\n        <div id=\"page-map\">\n            <aside>\n                <header>\n                    <img src={logoImg} alt=\"logo\" className=\"logo\" />\n                    <h2>Escolha um local no mapa</h2>\n                    <p>\n                        Selecione o melhor local para seu companheiro.\n                        </p>\n                </header>\n                <footer>\n                    <strong>Seu pet em boas mãos!</strong>\n                </footer>\n            </aside>\n\n            <GeoLocation latitude={latitude} longitude={longitude} />\n\n\n            <Link to=\"/map\" className=\"create-store\">\n                <FiPlus size={32} color=\"#FFF\" />\n            </Link>\n        </div>\n    );\n\n}\n\nexport default Maps;"]},"metadata":{},"sourceType":"module"}